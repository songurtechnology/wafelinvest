{% extends 'base.html' %}

{% block title %}{{ package.name }} - Paket DetaylarÄ± | WafelInvest{% endblock %}

{% block meta %}
  <meta name="description" content="{{ package.short_description|default:'YatÄ±rÄ±mcÄ±lara Ã¶zel avantajlar sunan sabit kazanÃ§lÄ± yatÄ±rÄ±m paketi.' }}">
  <meta name="keywords" content="yatÄ±rÄ±m, {{ package.name }}, sabit getiri, finans, wafelinvest, paket detaylarÄ±">
  <meta name="robots" content="index, follow">
{% endblock %}

{% block content %}
<main class="container py-5">
  <div class="row justify-content-center">
    <article class="col-lg-10 col-xl-9">

      <!-- BaÅŸlÄ±k -->
      <header class="text-center mb-5">
        <h1 class="fw-bold text-uppercase"
            style="color:
              {% if 'Basic' in package.name %}#198754
              {% elif 'Premium' in package.name %}#0d6efd
              {% elif 'Master' in package.name %}#fd7e14
              {% else %}#6c757d
              {% endif %};
              font-family: 'Poppins', sans-serif;">
          {{ package.name }}
        </h1>
        <div class="mx-auto mt-2" style="width: 80px; height: 5px; border-radius: 2px;
          background:
            {% if 'Basic' in package.name %}#198754
            {% elif 'Premium' in package.name %}#0d6efd
            {% elif 'Master' in package.name %}#fd7e14
            {% else %}#6c757d
            {% endif %};">
        </div>
      </header>

      <!-- Paket KartÄ± -->
      <section class="card shadow-lg rounded-4 border-0">
        <div class="row g-0">

          <!-- Sol: Genel Bilgiler -->
          <aside class="col-md-5 p-4 border-end d-flex flex-column justify-content-center bg-light-subtle rounded-start-4" aria-label="Paket genel bilgileri">
            <div class="text-center">
              <div class="mb-3">
                <small class="text-muted">YatÄ±rÄ±m TutarÄ±</small>
                <h2 class="fw-bold display-6 text-success mt-1">â‚¬{{ package.price|floatformat:2 }}</h2>
              </div>
              <p class="text-muted fst-italic">
                {{ package.short_description|default:"YatÄ±rÄ±mcÄ±lara Ã¶zel avantajlar sunan bu paket, sabit kazanÃ§ fÄ±rsatlarÄ± ile Ã¶ne Ã§Ä±kÄ±yor." }}
              </p>
            </div>

            <ul class="list-group list-group-flush mt-4">
              <li class="list-group-item d-flex align-items-center">
                <i class="bi bi-clock me-2 text-primary" aria-hidden="true"></i>
                <strong>SÃ¼re:</strong>
                <span class="ms-1">
                  {% if package.duration %}
                    {{ package.duration }} GÃ¼n
                  {% else %}
                    Bilgi Yok
                  {% endif %}
                </span>
              </li>
              <li class="list-group-item d-flex align-items-center">
                <i class="bi bi-bar-chart-fill me-2 text-warning" aria-hidden="true"></i>
                <strong>Getiri:</strong>
                <span class="ms-1">
                  {% if package.profit_percent %}
                    %{{ package.profit_percent|floatformat:0 }}
                  {% else %}
                    BelirtilmemiÅŸ
                  {% endif %}
                  {% if expected_return %}
                    (Toplam: â‚¬{{ expected_return|floatformat:2 }})
                  {% endif %}
                </span>
              </li>
              <li class="list-group-item d-flex align-items-center">
                <i class="bi bi-arrow-counterclockwise me-2 text-danger" aria-hidden="true"></i>
                <strong>Ä°ptal:</strong>
                <span class="ms-1">30 GÃ¼n Ä°Ã§inde %30 Ä°ade</span>
              </li>
            </ul>
          </aside>

          <!-- SaÄŸ: AÃ§Ä±klama & YatÄ±rÄ±m -->
          <section class="col-md-7 p-5">
            <h2 class="fw-semibold text-primary mb-3">Paket AÃ§Ä±klamasÄ±</h2>
            <p class="text-muted lh-lg" style="white-space: pre-line;">
              {{ package.description|default:"Bu yatÄ±rÄ±m paketi, sabit getirili yatÄ±rÄ±mlarÄ±nÄ±zÄ± gÃ¼venli bir ÅŸekilde deÄŸerlendirmeniz iÃ§in tasarlanmÄ±ÅŸtÄ±r. SÃ¼resi boyunca hiÃ§bir ekstra iÅŸlem yapmanÄ±za gerek kalmadan vade sonunda kazancÄ±nÄ±z hesabÄ±nÄ±za yansÄ±tÄ±lÄ±r. Risk yÃ¶netimi ve ÅŸeffaf Ã¶deme politikasÄ± ile yatÄ±rÄ±mÄ±nÄ±zÄ± kolayca takip edebilirsiniz." }}
            </p>

            <form method="post" action="{% url 'invest' package.id %}" class="mt-4" aria-label="{{ package.name }} yatÄ±rÄ±m formu">
              {% csrf_token %}
              <button type="submit" class="btn btn-primary w-100 py-3 fw-semibold rounded-pill shadow-sm btn-hover" aria-label="Bu pakete yatÄ±rÄ±m yap">
                ğŸš€ Bu Pakete YatÄ±rÄ±m Yap
              </button>
            </form>
          </section>

        </div>
      </section>

      <!-- Geri DÃ¶n -->
      <nav class="text-center mt-4" aria-label="Paketler sayfasÄ±na geri dÃ¶nÃ¼ÅŸ">
        <a href="{% url 'packages' %}" class="btn btn-outline-secondary rounded-pill px-4 py-2" aria-label="TÃ¼m paketlere geri dÃ¶n">
          <i class="bi bi-arrow-left-circle me-2" aria-hidden="true"></i> TÃ¼m Paketlere Geri DÃ¶n
        </a>
      </nav>

    </article>
  </div>
</main>

<style>
  .btn-hover {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .btn-hover:hover {
    transform: scale(1.04);
    box-shadow: 0 0.5rem 1rem rgba(13, 110, 253, 0.25);
  }

  @media (max-width: 768px) {
    h1 { font-size: 1.75rem !important; }
    .display-6 { font-size: 2rem !important; }
    .card { border-radius: 1rem !important; }
    .col-md-5, .col-md-7 {
      padding: 1.5rem !important;
    }
  }

  @media (max-width: 576px) {
    .row.g-0 {
      flex-direction: column;
    }
    .border-end {
      border: none !important;
    }
  }
</style>
{% endblock %}
