{% block content %}
<div class="container py-5">
  <div class="row g-4 justify-content-center align-items-start">

    <!-- YatÄ±rÄ±m Formu -->
    <div class="col-12 col-lg-6 order-2 order-lg-1">
      <div class="card p-4 p-md-5 shadow border-0 rounded-4 bg-white">
        <h2 class="text-center text-primary fw-bold mb-4">YatÄ±rÄ±m Yap</h2>

        <!-- Paket Bilgisi -->
        <div class="mb-3 text-center text-lg-start">
          <span class="badge 
            {% if 'Basic' in package.name %}bg-success
            {% elif 'Premium' in package.name %}bg-warning text-dark
            {% elif 'Master' in package.name %}bg-danger
            {% else %}bg-secondary
            {% endif %}
            fs-6 fs-md-5 px-3 px-md-4 py-2 rounded-pill">
            {{ package.name }} - â‚¬{{ package.price|floatformat:2 }}
          </span>
        </div>

        <!-- Getiri -->
        <div class="mb-3 text-center text-lg-start">
          <span class="badge bg-info fs-6 px-3 py-2 rounded-pill">
            Getiri OranÄ±: {{ profit_percent|default:"Bilgi yok" }}%
          </span>
        </div>

        <!-- AÃ§Ä±klama -->
        <p class="text-muted small text-center text-lg-start mb-3 fst-italic">
          AÃ§Ä±klama: {{ description|default:"AÃ§Ä±klama yok" }}
        </p>

        <!-- SÃ¼re -->
        <p class="text-center text-lg-start">
          <strong>SÃ¼re:</strong> {{ duration|default:"Bilgi yok" }} gÃ¼n
        </p>

        <!-- Form -->
        <form method="POST" action="{% url 'invest' package.id %}" enctype="multipart/form-data" novalidate>
          {% csrf_token %}
          <input type="hidden" name="amount" value="{{ package.price|floatformat:2 }}">

          <div class="form-check form-switch mb-4">
            {{ form.agreement }}
            <label for="{{ form.agreement.id_for_label }}" class="form-check-label fw-semibold">
              YatÄ±rÄ±m koÅŸullarÄ±nÄ± okudum ve kabul ediyorum.
            </label>
          </div>

          <button type="submit" class="btn btn-gradient w-100 py-3 fw-bold rounded-pill shadow-sm" aria-label="YatÄ±rÄ±mÄ± Onayla">
            ğŸš€ YatÄ±rÄ±mÄ± Onayla
          </button>
        </form>
      </div>
    </div>

    <!-- Bilgilendirme Paneli -->
    <div class="col-12 col-lg-5 order-1 order-lg-2">
      <div class="card p-4 bg-light shadow-sm border-0 rounded-4">
        <h4 class="fw-bold text-primary mb-3">YatÄ±rÄ±m Bilgilendirmesi</h4>
        <ul class="list-group list-group-flush mb-4">
          <li class="list-group-item d-flex align-items-center flex-wrap">
            <i class="bi bi-clock me-2 text-secondary fs-5"></i> SÃ¼re:
            <strong class="ms-auto">{{ duration|default:"Bilgi yok" }} gÃ¼n</strong>
          </li>
          <li class="list-group-item d-flex align-items-center flex-wrap">
            <i class="bi bi-cash me-2 text-success fs-5"></i> Getiri:
            <strong class="ms-auto">{% if expected_return %} {{ expected_return|floatformat:2 }} Euro {% else %} Bilgi yok {% endif %}</strong>
          </li>
          <li class="list-group-item d-flex align-items-center flex-wrap">
            <i class="bi bi-arrow-repeat me-2 text-warning fs-5"></i> Ä°ptal:
            <strong class="ms-auto">%30 kesintiyle iade</strong>
          </li>
          <li class="list-group-item d-flex align-items-center flex-wrap">
            <i class="bi bi-shield-lock me-2 text-primary fs-5"></i> GÃ¼venlik:
            <strong class="ms-auto">Manuel onaylÄ± Ã¶deme</strong>
          </li>
        </ul>

        <!-- SSS -->
        <h5 class="fw-semibold text-primary mb-3">SÄ±kÃ§a Sorulan Sorular</h5>
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button class="accordion-button collapsed w-100" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                Ã–deme dekontunu nasÄ±l gÃ¶ndereceÄŸim?
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                YatÄ±rÄ±m sonrasÄ± Email destek hattÄ±mÄ±za dekont gÃ¶ndererek Ã¶deme sÃ¼recini baÅŸlatabilirsiniz.
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <button class="accordion-button collapsed w-100" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                YatÄ±rÄ±m iptali durumunda ne olur?
              </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Ä°lk 30 gÃ¼n iÃ§inde yapÄ±lan iptallerde yatÄ±rdÄ±ÄŸÄ±nÄ±z tutarÄ±n %70â€™i iade edilir.
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
              <button class="accordion-button collapsed w-100" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                Getiriler ne zaman yatÄ±rÄ±lÄ±r?
              </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Onaylanan yatÄ±rÄ±mlarÄ±nÄ±z iÃ§in getiriler, 30 gÃ¼n sonunda hesabÄ±nÄ±za yansÄ±tÄ±lÄ±r.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<style>
  .btn-gradient {
    background: linear-gradient(90deg, #28a745 0%, #218838 100%);
    color: #fff;
    transition: background 0.3s ease-in-out, transform 0.2s ease;
  }
  .btn-gradient:hover, .btn-gradient:focus {
    background: linear-gradient(90deg, #218838 0%, #1e7e34 100%);
    color: #fff;
    transform: scale(1.05);
    box-shadow: 0 0.5rem 1rem rgba(33, 136, 56, 0.4);
  }
  .btn-gradient:focus {
    outline: none;
    box-shadow: 0 0 0 0.25rem rgba(33, 136, 56, 0.75);
  }

  .accordion-button::after {
    font-family: "bootstrap-icons" !important;
    content: "\f078" !important;
  }
  .accordion-button.collapsed::after {
    content: "\f077" !important;
  }

  @media (max-width: 576px) {
    .card.p-5, .card.p-4 {
      padding: 1.5rem !important;
    }
    .accordion-button {
      font-size: 0.9rem;
    }
  }
</style>
{% endblock %}
